# XHS-MCP 项目布局 v0.8.0

## 完整目录结构

```
xhs-mcp/
├── src/                                  # 源代码
│   ├── cli/
│   │   └── cli.ts                        # CLI 入口
│   ├── core/                             # 核心模块
│   │   ├── auth/                         # 认证
│   │   ├── browser/                      # 浏览器管理
│   │   ├── feeds/                        # 内容发现
│   │   ├── publishing/                   # 内容发布
│   │   └── index.ts
│   ├── server/                           # MCP 服务器
│   │   ├── handlers/                     # 请求处理器
│   │   ├── schemas/                      # 模式定义
│   │   ├── http.server.ts
│   │   ├── mcp.server.ts
│   │   └── index.ts
│   ├── shared/                           # 共享工具
│   │   ├── base.service.ts
│   │   ├── config.ts
│   │   ├── cookies.ts
│   │   ├── errors.ts
│   │   ├── image-downloader.ts          # 图片下载器
│   │   ├── title-validator.ts           # 标题验证器
│   │   ├── logger.ts
│   │   ├── types.ts
│   │   ├── utils.ts
│   │   ├── xhs.utils.ts
│   │   └── index.ts
│   └── index.ts
│
├── tests/                                # 测试
│   ├── integration/                      # 集成测试
│   │   ├── image-downloader.test.js
│   │   └── title-validation.test.js
│   ├── fixtures/                         # 测试数据
│   │   └── Bert.jpg
│   └── README.md
│
├── examples/                             # 示例
│   ├── images/                           # 示例图片
│   │   ├── circle.png
│   │   ├── circle.svg
│   │   ├── geometric.png
│   │   ├── geometric.svg
│   │   ├── wave.png
│   │   └── wave.svg
│   └── README.md
│
├── docs/                                 # 文档
│   ├── HTTP_TRANSPORTS.md
│   ├── PROJECT_STRUCTURE.md
│   ├── PUBLISH_GUIDE.md
│   ├── USAGE_GUIDE.md
│   └── WEBPACK_OPTIMIZATION.md
│
├── config/                               # 配置
│   ├── tsconfig.json
│   ├── tsconfig.webpack.json
│   ├── webpack.config.js
│   ├── webpack.dev.config.js
│   ├── webpack.optimized.config.js
│   └── eslint.config.js
│
├── dist/                                 # 构建输出
│   ├── xhs-cli.js
│   └── [类型定义文件]
│
├── package.json                          # 项目配置
├── package-lock.json
├── README.md                             # 主说明文档
├── README.en.md
├── LICENSE
└── REORGANIZATION.md                     # 重组说明

## 文件总数统计

- 源代码文件: ~40 个 TypeScript 文件
- 测试文件: 2 个集成测试
- 示例图片: 6 个（PNG + SVG）
- 文档文件: 6 个 Markdown 文档
- 配置文件: 6 个配置文件

## 目录职责说明

| 目录 | 职责 | 文件类型 |
|------|------|----------|
| src/ | 项目源代码 | TypeScript |
| tests/ | 测试代码和数据 | JavaScript + 图片 |
| examples/ | 使用示例 | 图片 + 文档 |
| docs/ | 技术文档 | Markdown |
| config/ | 构建配置 | JavaScript + JSON |
| dist/ | 构建产物 | JavaScript + 类型定义 |

## 关键改进点

1. ✅ **分离测试和示例**: tests/ vs examples/
2. ✅ **清晰的子目录**: images/, integration/, fixtures/
3. ✅ **完整的文档**: 每个目录都有 README.md
4. ✅ **标准化命名**: *.test.js 测试文件命名
5. ✅ **清理临时文件**: 删除 5 个不必要的文件

## NPM 脚本

```json
{
  "test": "npm run test:integration",
  "test:integration": "node tests/integration/image-downloader.test.js && node tests/integration/title-validation.test.js",
  "test:image-downloader": "node tests/integration/image-downloader.test.js",
  "test:title-validation": "node tests/integration/title-validation.test.js"
}
```

## 快速导航

- 源代码: `src/`
- 运行测试: `npm test`
- 查看示例: `examples/README.md`
- 阅读文档: `docs/`
- 构建项目: `npm run build`

---

**生成日期**: 2025-10-07
**项目版本**: v0.8.0

